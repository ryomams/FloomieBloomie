<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!-- <script src="index.js"></script> -->
    <title>FloomieBloomie 1.0</title>
    <link rel="icon" type="image/png" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/271/cherry-blossom_1f338.png"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');

        html, body {
            margin: 0;
            padding: 0;
            border: 0;
            background-color: #FFCAD3;
            font-family: 'Nunito';
        }
        table, tr, td {
            border: 1px solid black;
            vertical-align: middle;
        }
        table {
            width: 100%;
        }
        #Title {
            padding-top: 60px;
            font-weight: 700;
            padding-bottom: 20px;
            text-align: center;
            font-size:40px;
            padding-left: 24px;
            padding-right: 24px;
        }
        #Notes {
            padding-top: 30px;
            padding-left: 50px;
            padding-right: 50px;
            text-align: center;
            padding-bottom: 110px;
        }
        #LeftButton {
            text-align: left;
        }
        #RightButton {
            text-align: right;
        }
        #Notes {
            text-align: center;
            /*padding-left:50px;
            padding-right:50px;*/
        }
        #PutItHere {
            text-align:center;
            padding-top: 5px;
            padding-bottom: 10px;
        }
        #titlebar {
            font-weight:700;
            font-size:25px;
            background-color: #FF7F9A;
            padding-top: 12px;
            padding-left: 12px;
            padding-bottom: 12px;
        }
        #subsubtitlebar {
            background-color: #FFA3B6;
            padding-top: 12px;
            padding-left: 24px;
            padding-right: 24px;
            padding-bottom: 12px;
        }
        #subtitlebar {
            padding: 12px;
            background-color: #333;
            color: #fff;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
        svg {
           /* width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;*/
        }
    </style>
</head>
<body>
    <div id="titlebar">FloomieBloomie<span style="float:right;"><a href="https://github.com/ryomams/FloomieBloomie"><img src="assets/gh.png" style="padding-right: 12px;" /></a></span></div>
    <div id="subsubtitlebar">Help | <a href="javascript:history.go(0)" style="color: #000;">Reload</a><span style="float:right;">Petals: 0  |  Mood: Awful  |  Significance: Momentous</span></div>
    <div id="Title">Relaxed for much longer than I would have liked to</div>
    <div id="PutItHere"><!-- SVG Will Generate Here --></div>
    <div id="Notes"><b>Notes</b><br /><p id="Notes_Tofill">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut tempus turpis ut arcu auctor, ac sodales diam lobortis. Integer et nunc lectus. Suspendisse convallis orci eget sem rutrum cursus. Sed eu erat nec augue pharetra imperdiet id a justo. Etiam aliquam, nibh at luctus pellentesque, orci ligula mollis dolor, at condimentum dui lacus vel magna. Phasellus finibus viverra mauris gravida egestas. Nullam sed metus et nunc elementum condimentum.</p></div> 
    <div id="subtitlebar">By <a href="https://github.com/NSDawn" style="color: #fff">Nishant Suria</a> and <a href="https://ryoma.ms" style="color:#fff;">Ryoma Marta-Sugawara</a><span style="float:right; padding-right:24px;">For <a href="https://www.ucsc.edu/" style="color:#fff;">UCSC</a>'s <a href="https://catalog.ucsc.edu/en/Current/General-Catalog/Courses/CMPM-Computational-Media/Lower-Division/CMPM-35" style="color:#fff;">CMPM 35</a></span></div>
    <script>
        class Vector2 {
        constructor(in_a, in_b, in_type = 'rect') {
        if (in_type == 'rect') {
            this.x = in_a;
            this.y = in_b;
            this.r = Math.sqrt(this.x ^ 2 + this.y ^ 2);
            this.theta = Math.atan(this.y / this.x);
        }
        else if (in_type == 'polar') {
            this.r = in_a;
            this.theta = in_b;
            this.x = this.r * Math.cos(in_b);
            this.y = this.r * Math.sin(this.theta);
            this.cx = this.x + CTR.x;
            this.cy = this.y + CTR.y;
                }
            }
        }
        // fn that formats inputs into the form that path() uses
        function p(str1, str2, str3 = "", str4 = "", str5 = "", str6 = "", str7 = "", str8 = "") { 
            let output = "";
            output += str1; output += " "; output += str2;
            if (str3 != "") {
              output += " "; output += str3;
            }
            if (str4 != "") {
              output += " "; output += str4;
            }
            if (str5 != "") {
              output += " "; output += str5;
            }
            if (str6 != "") {
              output += " "; output += str6;
            }
            if (str7 != "") {
                     output += " "; output += str7;
            }
                   if (str8 != "") {
              output += " "; output += str8;
            }
            return output;
          }

        const s = " ";
        const PI = Math.PI;
        // inititalization of value (helps with scaling idek)
        const cs = new Vector2(900, 600, 'rect'); // cs = canvas_size

        //ui elements
        console.log("I feel like I'm going insane rn");

        let svg = d3.select("#PutItHere").append("svg")
            .attr("width", cs.x)
            .attr("height", cs.y)
            .style("background-color", "#FFCAD3");
        
        let circle_Bound = svg.append("circle")
            .attr("fill", "#AAA")
            .attr("cx", 300 + 150)
            .attr("cy", 300)
            .attr("r", 300)
            .on("mouseover", printDumbShit);
        
        //svg.select(circle_Bound).on("mouseover", printDumbShit);

        let arrowLeft = svg.append("image")
            .attr("href", "assets/cleft.svg")
            .attr("x", 0)
            .attr("y", 250)
            .attr("width", "100")
            .attr("height", "100");

        let arrowRight = svg.append("image")
            .attr("href", "assets/cright.svg")
            .attr("x", 800)
            .attr("y", 250)
            .attr("width", "100")
            .attr("height", "100");

        let circleRight = svg.append("circle")
            .attr("fill", "#FFA3B6")
            .attr("cx", 850)
            .attr("cy", 300)
            .attr("r", 50)
            .attr("opacity", 0.5)
            .on("mouseover", eventMouseoverButton)
            .on("mousedown", eventMousedownButton)
            .on("mouseup", eventMouseoverButton)
            .on("mouseout", eventMouseoutButton);

        let circleLeft = svg.append("circle")
            .attr("fill", "#FFA3B6")
            .attr("cx", 50)
            .attr("cy", 300)
            .attr("r", 50)
            .attr("opacity", 0.5)
            .on("mouseover", eventMouseoverButton)
            .on("mousedown", eventMousedownButton)
            .on("mouseup", eventMouseoverButton)
            .on("mouseout", eventMouseoutButton);

        /*const arrowLeft = svg.append("image")
            .attr("href", "assets/cleft.svg")
            .attr("x", 20)
            .attr("y", 250)
            .attr("width", "100")
            .attr("height", "100");*/

        
        //set text to display relevant data
        /*let element = document.getElementById("Title");
        element.innerHTML = "Penis penis penis hehe";

        element = document.getElementById("Notes_Tofill");
        element.innerHTML = "Penis penis penis hehe";*/

        // petal things
        const CTR = new Vector2(cs.x/2, cs.y/2, 'rect');
        const ENDPT = new Vector2(300, PI, 'polar'); // change this
        const COLOR = '#42f5c8'; 
        const UNDERMIDPT1 = new Vector2(ENDPT.r / 3, ENDPT.theta - PI/6, 'polar'); 
        const UNDERMIDPT2 = new Vector2(ENDPT.r * 2/3, ENDPT.theta - PI/6, 'polar'); 
        const OVERMIDPT1 = new Vector2(ENDPT.r / 3, ENDPT.theta + PI/6, 'polar');
        const OVERMIDPT2 = new Vector2(ENDPT.r * 2/3, ENDPT.theta + PI/6, 'polar');
        const petal = svg.append('path')
          .attr("d", p("M", CTR.x, CTR.y) + s + p("C", UNDERMIDPT1.cx, UNDERMIDPT1.cy, UNDERMIDPT2.cx, UNDERMIDPT2.cy, ENDPT.cx, ENDPT.cy) + s +  p("C", OVERMIDPT2.cx, OVERMIDPT2.cy, OVERMIDPT1.cx, OVERMIDPT1.cy, CTR.x, CTR.y))
          .attr("stroke", COLOR)
          .attr("stroke_width", "2")
          .attr("fill", COLOR);

        //pistol elements

        let circle = svg.append("circle")
            .attr("fill", "#FFD479")
            .attr("stroke-width", 3)
            .attr("stroke", "#000")
            .attr("cx", 300 + 150)
            .attr("cy", 300)
            .attr("r", 50);

        let text_Date = svg.append("text")
            .attr("x", 264 + 150)
            .attr("y", 300)
            .attr("font-family", "Courier New")
            .attr("font-size", "25px")
            .attr("font-weight", "bold")
            .attr("fill", "black")
            .text("00/00");

        let text_Year = svg.append("text")
            .attr("x", 276 + 150)
            .attr("y", 327)
            .attr("font-family", "Courier New")
            .attr("font-size", "20px")
            .attr("font-weight", "italics")
            .attr("fill", "black")
            .text("2020");

        function printDumbShit() {
            console.log("Floomie eats children!");
        }

        function eventMouseoverButton(d, i) {
            d3.select(this).attr("fill", "#FF7F9A");
        }
        function eventMousedownButton(d, i) {
            d3.select(this).attr("fill", "#FFFFFF");
        }
        function eventMouseoutButton() {
            d3.select(this).attr("fill", "#FFA3B6");
        }

        /*TODO:
                -Animate circles on hover
                -Figure out clickiness
                -Load Data
                -Split Data by day
                -Combine Nishant's code with mine


        */

    </script>
</body>
</html>
